spring:
  main:
    allow-bean-definition-overriding: true
    banner-mode: off
  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: validate
  flyway:
    enabled: false

cors:
  maxAge: "3600"
  origins:
    - "*"

multi-tenancy:
  tenants:
    - tenantId: eventsourcing
      url: jdbc:h2:mem:albums-axon-db
      username: albums
      password: albums
      driver-class-name: org.h2.Driver
      flyway:
        enabled: true
        baseline-on-migrate: true
        locations: classpath:/db/migration/axon
    - tenantId: projections
      url: jdbc:h2:mem:albums-projections-db
      username: albums
      password: albums
      driver-class-name: org.h2.Driver
      flyway:
        enabled: false # TODO: There are some MySQL specific index statements that won't run on H2
        baseline-on-migrate: true
        locations: classpath:/db/migration/projections
    - tenantId: thumbnails
      url: jdbc:h2:mem:albums-thumbnails-db
      username: albums
      password: albums
      driver-class-name: org.h2.Driver
      flyway:
        enabled: true
        baseline-on-migrate: true
        locations: classpath:/db/migration/thumbnail
    - tenantId: auditLog
      url: jdbc:h2:mem:albums-audit-log-db
      username: albums
      password: albums
      driver-class-name: org.h2.Driver
      flyway:
        enabled: true
        baseline-on-migrate: true
        locations: classpath:/db/migration/audit-log
